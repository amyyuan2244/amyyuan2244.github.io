<html>
<script src='https://d3js.org/d3.v5.min.js'></script>
<p>This visualization explores how the Consumer Price Index (CPI) has changed since the start of the COVID-19 pandemic.
While itâ€™s difficult to place an exact date on when a pandemic starts, the World Health Organization officially declared COVID-19 a pandemic in March of 2020, so this visualization will use March 2020 as the start of the pandemic. The most recent CPI data available is from June 2025. Thus, this visualization will explore how the CPI has changed from the start of the COVID-19 pandemic in March 2020 to most recently, June 2025.
</p>
<style> rect {fill: lightblue; stroke: black; }</style>
<body onload='init()'>
<svg>
</svg>
<script>

async function init() {
const width = 500
const height = 500
const margin = 50
const maxY = 60
var x = d3.scaleBand().domain(["all items", "food", "energy", "all items except food and energy"]).range([0, width]);
var y = d3.scaleLinear().domain([0,maxY]).range([height, 0]); // TODO idk why 60 here but is it supposed to be the MAX?


const data = await d3.csv('https://amyyuan2244.github.io/bigCategories.csv');
d3.select('svg')
.attr("width", width + 2 * margin)
.attr("height", height + 2 * margin)
.append("g")
.attr("transform", "translate("+margin+","+margin+")")
.selectAll('rect')
.data(data)
.enter()
.append('rect')
.attr('x', function(d,i) { return (width * i)/4;}) // 6 at most but always do 10?
.attr('y', function(d) {return (height - (d.percentageChange * height/maxY));}) // TODO i have 60 here but it's supposed to be the MAX?
.attr("width", function(d,i ) {return width/4}) // TODO idk why it's divided by 100
.attr("height", function(d,i) {return d.percentageChange * height/maxY}); // TODO

d3.select("svg").append("g")
.attr("transform", "translate("+margin+","+margin+")")
.call(d3.axisLeft(y));

d3.select("svg").append("g")
.attr("transform", "translate("+margin+","+(height + margin)+")")
.call(d3.axisBottom(x));
}

</script></html>